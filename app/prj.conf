# Frostbee - Zigbee Temperature & Humidity Sensor
# Board: nRF52840 Dongle
#
# Development configuration — safe for UF2 bootloader.
# ZBOSS NVRAM partitions are omitted from pm_static.yml so the
# Zigbee stack cannot write to flash.  Device rejoins on every boot.
#
# For production builds with persistent storage and battery optimizations:
#   west build -b nrf52840dongle_nrf52840 app -- \
#     -DOVERLAY_CONFIG=prj_release.conf \
#     -DPM_STATIC_YML_FILE=pm_static_release.yml

# ─── Core ───
CONFIG_I2C=y
CONFIG_PINCTRL=y
CONFIG_SENSOR=y
CONFIG_GPIO=y
CONFIG_BUILD_OUTPUT_UF2=y

# ─── Zigbee ───
CONFIG_ZIGBEE_ADD_ON=y
CONFIG_ZIGBEE_APP_UTILS=y
CONFIG_ZIGBEE_ROLE_END_DEVICE=y

# Scan all Zigbee channels (11-26) instead of single channel
CONFIG_ZIGBEE_CHANNEL_SELECTION_MODE_MULTI=y

CONFIG_HEAP_MEM_POOL_SIZE=2048
CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE=2048

# Networking (disable IP stack, not needed for Zigbee)
CONFIG_NET_IPV6=n
CONFIG_NET_IP_ADDR_CHECK=n
CONFIG_NET_UDP=n

# ─── Logging (enabled for development) ───
CONFIG_LOG=y
CONFIG_LOG_DEFAULT_LEVEL=3
CONFIG_SERIAL=y
CONFIG_CONSOLE=y
CONFIG_UART_CONSOLE=y
CONFIG_UART_INTERRUPT_DRIVEN=y
